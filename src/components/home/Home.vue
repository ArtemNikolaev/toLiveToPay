<template>
  <section id="home-section" class="col col-all">
    <today-balance></today-balance>

    <widget height="forty" padding="top" id="home-expenditures">
      <section class="content">
        <p>
          <span>üí∞</span>
          <span>–û–ø–∏—Å–∞–Ω–∏–µ</span>
        </p>

        <p v-for="expenditure in expenses" :key="expenditure.datetime">
          <span>{{expenditure.summ}}üí∞</span>
          <span>{{expenditure.description}}</span>
        </p>
      </section>
    </widget>

    <widget height="thirty" padding="bottom" id="home-other">
      <section class="content">
        <span v-on:click='editBudget' class="edit">‚öô</span>
        <article class="left">
          <p></p>
          <p>–î–Ω–µ–≤–Ω–æ–π –ë—é–¥–∂–µ—Ç:</p>
          <p>–û—Å—Ç–∞–ª–æ—Å—å –î–Ω–µ–π:</p>
          <p>–û—Å—Ç–∞–ª–æ—Å—å –î–µ–Ω–µ–≥:</p>
          <p></p>
        </article>
        <article class="right">
          <p></p>
          <p>{{moneyPerDay}}üí∞</p>
          <p>{{daysToSalary}}</p>
          <p>{{availableSumm}}üí∞</p>
          <p></p>
        </article>
      </section>
    </widget>
  </section>
</template>

<script>
import storage from '../../services/localstorageService'
import todayBalance from './todayBalance.component'
import widget from '../widget.component'

export default {
  name: 'Home',
  components: { todayBalance, widget },
  data () {
    const [err, data] = storage.homeCalculation()

    if (err) this.$router.push('/new')

    return data
  },
  methods: {
    add: function () {
      this.$router.push('/add')
    },
    editBudget: function () {
      this.$router.push('/new')
    }
  }
}
</script>

<style lang='scss' src='./home.component.scss'></style>
